<!DOCTYPE html>
<html>

<body style="margin-top:300;margin-left:400">
<a href="#" class="next">&#8250;</a>
<a href="#" class="previous">&#8249;</a>
<svg height="800px" width="100%"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://unpkg.com/topojson-client@3"></script>
<style>
  a {
    text-decoration: none;
    padding: 8px 16px;
    float: right;

  }
  
  a:hover {
    background-color: #ddd;
    color: black;
  }
  
  .previous {
    background-color: #f1f1f1;
    color: black;
  }
  
  .next {
    background-color: #0452aa;
    color: white;
    margin-right: 600px;
  }

  
  </style>

<script>
var colorScale = d3.scaleLinear([0, 100], ["white", "blue"]);
var svg = d3.select("svg");
var path = d3.geoPath().projection(d3.geoMercator().translate([700,500]));
var geojson;
d3.json("https://unpkg.com/world-atlas@1/world/110m.json", function(error, world) {
  if (error) throw error;
  geojson = topojson.feature(world, world.objects.countries).features;
 
});

d3.csv("/data/worldfao.csv", function(error, d) {
  if (error) throw error;
  svg.selectAll("path")
     .data(geojson)
     .enter().append("path")
     .attr("d", path)
     .attr("fill", function(b) {
      console.log(d["Year"])
      if (d.Year == "2008-2010") {
        console.log(d.Value);
        return colorScale(d.Value);
      }
      else {
        console.log(d.Value);
        return colorScale(0);
      }
      
     });
});
// d3.json("https://unpkg.com/world-atlas@1/world/110m.json", function(error, world) {
//   if (error) throw error;
//   svg.selectAll("path")
//      .data(topojson.feature(world,world.objects.countries).features)
//      .enter().append("path")
//      .attr("d", path);
// });
</script>

</body>
</html>